<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>学生成绩管理系统</title>
    <link rel="stylesheet" href="./static/css/auth.css" type="text/css">
    <script src="./static/layui/layui.all.js"></script>
    <script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>

    <link rel="icon" href="./static/favicon.ico" type="image/x-icon"/>
    <link rel="shortcut icon" href="./static/favicon.ico" type="image/x-icon"/>
    <link rel="stylesheet" href="./static/css/xadmin.css">
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue-resource@1.5.1"></script>
    <link rel="stylesheet" type="text/css" href="./static/css/min.css">
    <link rel="stylesheet" type="text/css" href="http://www.dmaku.com/demo/moban/2019091950559957/css/util.css">
</head>
<body class="my100">
<script charset="utf-8" color="0,0,0" count="99" opacity="1"
        src="https://cdn.bootcss.com/canvas-nest.js/1.0.1/canvas-nest.js" type="text/javascript"></script>
<!--VUE.js-->
<div class="lowin">
    <div class="lowin-brand">
        <img src="./static/image/kodinger.jpg" alt="logo">
    </div>
    <div class="lowin-wrapper">
        <div class="lowin-box lowin-login" @submit.prevent="login">
            <div id="form" class="lowin-box-inner">
                <form id="form1" onautocomplete="off" @submit.prevent="login">
                    <p>登录以继续</p>
                    <div class="lowin-group">
                        <label>用户身份 </label>
                        <select class="lowin-input" id="identity" name="identity">
                            <option value="学生">学生</option>
                            <option value="老师">老师</option>
                            <option value="管理员">管理员</option>
                        </select>
                    </div>
                    <div class="lowin-group">
                        <label>用户名 </label>
                        <input type="text" id="username" name="username" class="lowin-input">
                    </div>
                    <div class="lowin-group password-group">
                        <label>密码 <a class="forgot-link"></a></label>
                        <input id="password" type="password" name="password"
                               autocomplete="current-password"
                               class="lowin-input">
                    </div>
                    <button id="bu" type="submit" class="lowin-btn">登录</button>
                </form>
            </div>
        </div>
    </div>
    <footer class="lowin-footer">
    </footer>
</div>
</body>
<script>
    const v = new Vue({
        el: "#form",
        data: {
            msg: null
        },
        methods: {
            login() {
                $.ajax({
                    //几个参数需要注意一下
                    type: "POST",//方法类型
                    dataType: "json",//预期服务器返回的数据类型
                    url: "./login2",//url
                    data: $("#form1").serialize(),
                    success: function (result) {
                        // console.log(result);//打印服务端返回的数据(调试用)
                        if (result.ok != null) {
                            // layer.msg(result.msg);
                            $(window).attr('location', result.ok);
                        }
                        if (result.ok == null) {
                            layer.msg(result.msg)
                        }
                        return false;
                    },
                    error: function () {
                        layer.msg("发生异常,请重试！");
                        return false;
                    }
                });
            }
        }
    })
</script>
</html>